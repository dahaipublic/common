package util

import (
	"errors"
	"math/rand"
	"regexp"
	"strings"
)

var phoneList = []string{"13505346046", "15505844525", "13559942307", "15302654701", "15597004650", "13538654025", "17178667694", "15569317536", "15333986288", "15522357116", "13572907828", "18846059598", "17303624762", "18879973605", "15310048805", "13534249377", "13518654550", "15575308800", "13567494707", "17126085880", "13522727078", "17359158010", "18867105663", "17180545094", "17172473715", "18806133652", "18863585995", "15533915268", "13501382428", "13536858959", "15548842024", "13590422583", "15364791943", "15367098821", "13545175731", "15579141023", "15512909847", "13564494085", "17312094185", "15374476212", "13542079459", "15543236555", "17168573590", "17327644592", "13555843420", "15527763788", "18874037850", "17303074698", "17156382068", "15582748765", "13575292850", "17314063757", "15521201561", "18813317799", "17320489611", "15312391525", "15526587770", "15575881796", "18860839133", "17179501766", "18856866938", "15526157961", "13557179680", "15306961684", "15399661456", "13513911641", "18825665365", "15519278139", "15392852268", "18839305311", "15307298637", "15343158346", "18891413192", "15542786853", "17373183854", "17310154136", "15368516977", "15341715742", "15510241158", "18808699956", "17184824350", "15501569544", "17332262443", "17376854684", "17331128790", "13536295861", "18874404734", "13525843857", "17343122703", "15331726490", "13574412874", "17182882414", "17169249221", "13526319156", "13501783471", "17371997253", "13548507975", "15582807921", "18845002922", "17190168476", "17301956800", "15508069624", "17121491839", "18809038380", "15599365068", "17348464577", "15557715089", "17355775943", "17395729375", "15350733176", "13553748582", "17363646596", "15541337922", "15589228811", "15530994119", "15544251108", "13506748280", "13560326846", "13512417400", "15355792898", "15518821527", "17151307170", "17301466542", "15534568000", "15381938555", "15516191230", "13547393574", "15332418243", "15578786469", "17345456983", "18863009943", "17132217341", "15359781880", "13512275624", "15338609269", "13581517474", "18859135372", "17150805476", "17315273205", "15332351901", "17110914308", "18829582230", "15504429925", "17107434658", "18810841288", "18822094454", "17392695304", "13574021852", "18822342461", "17352807013", "15362871648", "18890291643", "15557079034", "15550769781", "17100178990", "17177606675", "15304785811", "15325543973", "13508039573", "15570023609", "15338082573", "15525937438", "17139865661", "15365394347", "17369436261", "18831855924", "13510166903", "15504703236", "18859304123", "17354887607", "17190663403", "15528392416", "18820391125", "13567146019", "17390215597", "15558445916", "15593396347", "15336345954", "15373448034", "18817116158", "17363212887", "17178681468", "15501912524", "15548513124", "17125317631", "17122863770", "18895339080", "13506501242", "13547482856", "17325402186", "15370204552", "17366186857", "13580614063", "15396513406", "17184534367", "18843596344", "15531664047", "17322219231", "15384065982", "17197589522", "17124608855", "17173546208", "17334559894", "13514947390", "18899989210", "15396357398", "17194767771", "15512232433", "17129812625", "18858063167", "17380271039", "15305155113", "17384239774", "17129084380", "17334013207", "15354616889", "15501577747", "15350666452", "13541335210", "15397039723", "17333323325", "15553432703", "17132277212", "17102156556", "17394952393", "15551126261", "17322283326", "17132161294", "18882967572", "15567993832", "18800832104", "17362104402", "15347643780", "13538922724", "18843009777", "15583586574", "17376459459", "17345204010", "15568409898", "15328041746", "15348755298", "15352463377", "13538312019", "13504084500", "18864291806", "18876539442", "13580119234", "15509587076", "13533513532", "15397086991", "15578967085", "15395232591", "13511537324", "15561554192", "18855572068", "17184991827", "17195897176", "15330109418", "17112116709", "18820063819", "18896769646", "15596853830", "15309029719", "13580993363", "17373909534", "17317668058", "18875693281", "15580894015", "17320868345", "18871667714", "17378251499", "15376683225", "15393562977", "17119658374", "17177982591", "13579635133", "18863966257", "17380026387", "17383096394", "15358096258", "15316105098", "17192109364", "13577719487", "15557541694", "18829111947", "15333683314", "17302651729", "15565356726", "18837991907", "18819352506", "17125918772", "15362728479", "13530872094", "17330518378", "17391711714", "17357568439", "17329836934", "17101884092", "15515997429", "15360247403", "17376065558", "15347619617", "17318744192", "18818646872", "18887639541", "13516631550", "17109953361", "17358974937", "17165466702", "13520163604", "17333274607", "13507195862", "15506671052", "13570156181", "15540369483", "15382275751", "15348557097", "18809502274", "17101357221", "15321844770", "15374554498", "15362838008", "13572254616", "18897781505", "18873657794", "15569502818", "15503218097", "13568289179", "15501494506", "15559346249", "15505109847", "15584959311", "13573625713", "17329078221", "13575492686", "15346028378", "15304209288", "18834351587", "15528077499", "17122678046", "15399588774", "13541496734", "17308042418", "17122302753", "17188303282", "15573548237", "17193466633", "15552961729", "15304433294", "15596011805", "15336414598", "13517894121", "17191464830", "18864656419", "15322293854", "13547085971", "17366304085", "15548298817", "17119032847", "15314143465", "15391843584", "18854889691", "17379348092", "13552254676", "17192515008", "17332556938", "13546346770", "17179139547", "15565234026", "13510817322", "13592232863", "15518278054", "17184457908", "17165309038", "18810072258", "18899863647", "15330166979", "17163228552", "13513884696", "15576668096", "17134857416", "17320532361", "15399617436", "15393422211", "18867649407", "13577127091", "15383285683", "13511966247", "17107043244", "17305258194", "17307329667", "13547982652", "13563732118", "15580282159", "15359969046", "18802309032", "18868195619", "15595312166", "13519358577", "13573324171", "18873519006", "18889963862", "18863858214", "18885551963", "15355503156", "15522135693", "15587504340", "17300688302", "13580474319", "15335071985", "18822026025", "15343475393", "18858389481", "17364788821", "17338216813", "17357023750", "18819675690", "18861459152", "13534682350", "18807342845", "18845766383", "13581341462", "15546678168", "15363389233", "15598182292", "15510313048", "17169607841", "17384269704", "15538476023", "17326698649", "13568195323", "17101331616", "18833715407", "15513542510", "17128464137", "18850858149", "15585411562", "17342215366", "15369965136", "13595089585", "18884807575", "13506519663", "15336109983", "18812175612", "13579789273", "17191566980", "17113855783", "17187179044", "15390769447", "17154873495", "15315369919", "13560447530", "13543593905", "15326981977", "15377928594", "15531299531", "13522752030", "15515243417", "15588875840", "17198386152", "15353929051", "17180419202", "18892502826", "15362972310", "17104895539", "17159445619", "17161931436", "17128306678", "18894622785", "13533542459", "13589061669", "15538045313", "17192074035", "17100869700", "18881548179", "15578321320", "13516687148", "17387486811", "15581908854", "15303148513", "17364318036", "13519372615", "18878357767", "15365998762", "13533262655", "15524763402", "17373993942", "17132627845", "15312263235", "18805918250", "17137648925", "18810735967", "17352763655", "15318483543", "15301933799", "17335625184", "17190787723", "17168315725", "17177333956", "17155534403", "17331916843", "17318971376", "13586027615", "17197514939", "15500646932", "17190526211", "18861187424", "18843712576", "13503616740", "15381707331", "13531775686", "15320943187", "17332681648", "18877231835", "13565936676", "18883872195", "17113117030", "15542195529", "17163191160", "17182121098", "17359307620", "13595493080", "18897299405", "15300621584", "15392181509", "15360013648", "17315211223", "13547786724", "17346236675", "17117109436", "17199955867", "17324381370", "15561205664", "17176308417", "15525332919", "18841879010", "13586195282", "18823357203", "13580941316", "17181726624", "17172556101", "17174242006", "17334415117", "15542507277", "18852455876", "15322882925", "15326092530", "18815955972", "17338297012", "13581863578", "13523454246", "18883248430", "15577975523", "13504462715", "15572593717", "18825347242", "17191707216", "15501698778", "17150215067", "13541913133", "15351054070", "15387459713", "15323984171", "18827731007", "15379949807", "17354954524", "17105293473", "17106665455", "13567643795", "17362703986", "17160483417", "17164527801", "17329764123", "18868108390", "18834023727", "17328491242", "15540884369", "15391743181", "15563008474", "18841218953", "18827149150", "17327597598", "17161185111", "13580214022", "17391487324", "15346527803", "13584687201", "15568364623", "18892326799", "17196292465", "15314738718", "18874659484", "17364996074", "17322917217", "15546354009", "17304104591", "18850245460", "15567166024", "15346877506", "17171592202", "15307741921", "15378535366", "17181083708", "18838872565", "15523874196", "15582814599", "18812009288", "18831682128", "15528424936", "17390797582", "13529786044", "15519362159", "13581661966", "13592195423", "17323767622", "18895089533", "18880057134", "17395856663", "17156445819", "15339977418", "13503972746", "17137436002", "17325961089", "13523932551", "15520078744", "18897044629", "18852815783", "15586158946", "17305853065", "17191697681", "17155116054", "18892434417", "15316208577", "17174058235", "18835171393", "18891001047", "18844133246", "15331559668", "15529717482", "15310427185", "18888933459", "17185951640", "18869036867", "17386969280", "15544104167", "15536453525", "18809778008", "13501721869", "15519851638", "18864139453", "15376219650", "18855286495", "13552888215", "18812266393", "15384535358", "17366024168", "15583037746", "17319559368", "13583399647", "17342817587", "17375516015", "17368655128", "13573408556", "17337843382", "15524524562", "15557965325", "18803708273", "15354858781", "15561246015", "13545101566", "18812135972", "18880864948", "18882623597", "17331331659", "17192969708", "17361252313", "17300717429", "17322513061", "17384255349", "15512732958", "15587303706", "13597339608", "13541871366", "18856903574", "13544319628", "17171112176", "15592528350", "15524244876", "18838438484", "15336171173", "18846457202", "15370091389", "18802092971", "17185776552", "17315789678", "17186008359", "15597759223", "17114078954", "13571936189", "15510854236", "17343605430", "15324315512", "18848182715", "15358967655", "17112718381", "15305543365", "17379007406", "18850065249", "17346848724", "18832768964", "15398947054", "15511664350", "18893049468", "15395784841", "13509925786", "17329737709", "17339317828", "15301145193", "15344658661", "15513893693", "18809769907", "13556415899", "15358232183", "18867318856", "18853302497", "18805978085", "17153764187", "17394327668", "15360005526", "15574863119", "17319378106", "13574749245", "15343605397", "15547079810", "18825684089", "15302195031", "15350449514", "15591196914", "13518073795", "15528595463", "17337295785", "15553274266", "17378373652", "15513159952", "18865896181", "13593528477", "13536689964", "13581933085", "18825862167", "15508812815", "15368303477", "15389775911", "15332729270", "15304328480", "15503768447", "13569264276", "15370281086", "18873853590", "15399427916", "15517637395", "15512265000", "15338186481", "18816854632", "17344736375", "13585851145", "15310809202", "18888459540", "15576307660", "15372482118", "17134592769", "15564566677", "17375484701", "15549166607", "17376025044", "17177498343", "15533068233", "13512195324", "15385192833", "17337469889", "18811065219", "15574579382", "13535632107", "17365139115", "17194758900", "17157999949", "18878539783", "13585431436", "18835731689", "15341809338", "18815713775", "18848022553", "17176814472", "13507564609", "17374436712", "15535369152", "15301987909", "13561284844", "15596472556", "15595243269", "15348861151", "15358227819", "15585625599", "13535274969", "15510558682", "15531466773", "13560237056", "15346066222", "17384366840", "17120451295", "15528714201", "13566665846", "17134708033", "15337959117", "17326027472", "15544409125", "17396326658", "17344799349", "13502571874", "13583008906", "18854638579", "15360521835", "18862671084", "18876041465", "17174227019", "18867244268", "18877571422", "17175818042", "17198405101", "17316652256", "17115472324", "17170251628", "17353782605", "15547571117", "15542496729", "17394484004", "13558788846", "13546951156", "18880071949", "15589529953", "17330695362", "18832823789", "18861606325", "15393229507", "13597247782", "17340322947", "13576848156", "17307594259", "15310347872", "17387429777", "13575109154", "18842967332", "15323817752", "13545699458", "13506678980", "15518731380", "15503837203", "17193337592", "15361835793", "15373378187", "13513008768", "18816073025", "15396234233", "15532294884", "15333369983", "18891721178", "15308981220", "15339157072", "13550395319", "18833031249", "13545424519", "15353484560", "15320393033", "15538958356", "15506126698", "18849566171", "18858122599", "13513822954", "15538908018", "18817573657", "15509426208", "15390564050", "18868266400", "13509766371", "18885196411", "15392625505", "15534819575", "15355078703", "13549342325", "15378053304", "18804558423", "18866605310", "17343927729", "18846697477", "17360976412", "15301695000", "13506833875", "18865641462", "15384007161", "15585426334", "15335978298", "15358911853", "18871324750", "13552018769", "13531597032", "15509601928", "17378725162", "15334478755", "17324775798", "15502247700", "17360024589", "15517887666", "13583419718", "15582285570", "15597048546", "17196949268", "13573035725", "17379761764", "13506716846", "13524188473", "13579096524", "17317098405", "13556678605", "17364131674", "15302542803", "17365449679", "17346661385", "13509071846", "17381004105", "15364318352", "15569721157", "15379488564", "13503553881", "15315895132", "15350192561", "15506207489", "17176596927", "13598581313", "15513292921", "18829477001", "17198704553", "15564124638", "17399283062", "15346388378", "17118523890", "17316874954", "18812241181", "15391612394", "15379101862", "17346202337", "17137101347", "15537464745", "15595494241", "17324636010", "18810021880", "15506761951", "17199227633", "18843274632", "13575269166", "17335537296", "17355296969", "18880155377", "18815045657", "17121153339", "17323292729", "13584494068", "17152378726", "15558637907", "15599578428", "17393439325", "13560261113", "15384764359", "15386588572", "15525645068", "17319898857", "13596077491", "15568647988", "13569717568", "15379237339", "15562558083", "17109086704", "18811824994", "17158324342", "17308536213", "13571112401", "13596325246", "15536995444", "13587484212", "17130848519", "17114257378", "18805124729", "17139168291", "17154629594", "17375508473", "15597077214", "13511795277", "15394166346", "17134914894", "18845654793", "15556386974", "13524969075"}

// 随机手机号，隐藏中间4位
func RandPhoneHide() string {
	counter := rand.Intn(888) + 1
	phone := phoneList[counter]
	if len(phone) <= 10 {
		return ""
	}
	return phone[:3] + "****" + phone[len(phone)-4:]
}

// 随机手机号，隐藏中间4位
func PhoneHide(phone string) string {
	if len(phone) <= 10 {
		return ""
	}
	return phone[:3] + "****" + phone[len(phone)-4:]
}
func PhoneJudge(areaNum string, phone string) (err error) {
	//if areaNum == "+86" {
	//	re := regexp.MustCompile(`^\d{6,11}$`)
	//	if !re.MatchString(phone) {
	//		err = errors.New("号码格式不正确")
	//		return
	//	}
	//	return
	//}

	// 土耳其
	re := regexp.MustCompile(`^\d{10}$`)
	if !re.MatchString(phone) {
		err = errors.New("号码格式不正确")
		return
	}
	return
}

func GetDeviceType(userAgent string) string {
	ua := strings.ToLower(userAgent)
	switch {
	case strings.Contains(ua, "android"):
		return "Android"
	case strings.Contains(ua, "iphone") || strings.Contains(ua, "ipad") || strings.Contains(ua, "ipod"):
		return "iOS"
	case strings.Contains(ua, "windows") || strings.Contains(ua, "macintosh") || strings.Contains(ua, "linux"):
		return "PC"
	default:
		return "Unknown"
	}
}
